function t(t,e){return t?new URL(`v0/item/${e}.json?print=pretty`,"https://hacker-news.firebaseio.com"):new URL(`v0/${e}.json?print=pretty`,"https://hacker-news.firebaseio.com")}async function e(t){let e=new Headers({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});try{let n=await fetch(t,{mode:"cors",method:"GET",headers:e}),a=await n.json();return await a}catch(t){return{title:"Ups :( Something went wrong. Please try again later",by:"--",url:"--",time:"--"}}}const n=document.getElementById("js-navmenu__btn"),a=document.getElementById("js-themeInput"),s=document.getElementById("js-topStories"),d=document.getElementById("js-newsGrid");let i=0;async function o(n,a,s,d,i,o=!1){let c=[];!function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(d);for(let t=0;t<s;t++)c.push(function(){let t=document.createElement("div");return t.classList.add("card","card--line-bottom","loading"),t}()),d.appendChild(c[t]);let l=await e(t(!1,n));c.forEach((n,s)=>{e(t(!0,l[s+10*a])).then(t=>{!function(t,e,n,a,s,d){e=void 0!=e?e:"Sorry, there's a problem with the service, please try later :(",n=void 0!=n?n:":(",a=void 0!=a?a:":(";let i=new Date(1e3*s).toLocaleDateString("en-US",{weekday:"short",year:"2-digit",month:"2-digit",day:"2-digit",hourCycle:"h24",hour:"numeric",minute:"numeric"});s=void 0!=i?i:"",d=void 0!=d?d:"short";let o=document.createElement("a");o.classList.add("card__head","f-heading","f-heading--M"),o.textContent=e,o.href=a;let c=document.createElement("p");c.classList.add("card__text","f-body","f-body--M"),c.textContent="by";let l=document.createElement("span");l.classList.add("card__accent"),l.textContent=n,c.appendChild(l);let r=document.createElement("p");r.classList.add("card__text","f-body","f-body--M"),r.textContent="link:";let m=document.createElement("a");m.classList.add("card__accent"),m.textContent=a,m.href=a,r.appendChild(m);let h=document.createElement("p");h.classList.add("card__text","f-body","f-body--S"),h.textContent="date:";let g=document.createElement("span");g.textContent=s,h.appendChild(g),t.classList.remove("loading"),t.appendChild(o),t.appendChild(c),"long"===d?(t.appendChild(r),t.appendChild(h)):(t.classList.remove("card--line-bottom"),t.classList.add("card--line-top"))}(n,t.title,t.by,t.url,t.time,i)})}),o&&function(t,e){let n=document.getElementById("js-newsNav"),a=[],s=Math.ceil(t/10);for(;n.firstChild;)n.removeChild(n.firstChild);a[0]=document.createElement("span"),a[0].classList.add("news-navigation__item"),a[0].textContent=1,a[4]=document.createElement("span"),a[4].classList.add("news-navigation__item"),a[4].textContent=s,a[1]=document.createElement("span"),a[2]=document.createElement("span"),a[3]=document.createElement("span"),0===e?(a[1].classList.add("news-navigation__item"),a[1].textContent=e+2,a[2].classList.add("news-navigation__item"),a[2].textContent=e+3,a[3].textContent="...",a[0].classList.add("selected")):1===e?(a[1].classList.add("news-navigation__item"),a[1].textContent=e+1,a[2].classList.add("news-navigation__item"),a[2].textContent=e+2,a[3].textContent="...",a[1].classList.add("selected")):e>1&&e<s-2?(a[1].textContent="...",a[2].classList.add("news-navigation__item"),a[2].textContent=e+1,a[3].textContent="...",a[2].classList.add("selected")):e===s-3?(a[1].textContent="...",a[2].classList.add("news-navigation__item"),a[2].textContent=e+1,a[3].classList.add("news-navigation__item"),a[3].textContent=e+2,a[2].classList.add("selected")):e===s-2?(a[1].textContent="...",a[2].classList.add("news-navigation__item"),a[2].textContent=e,a[3].classList.add("news-navigation__item"),a[3].textContent=e+1,a[3].classList.add("selected")):e===s-1&&(a[1].textContent="...",a[2].classList.add("news-navigation__item"),a[2].textContent=e-1,a[3].classList.add("news-navigation__item"),a[3].textContent=e,a[4].classList.add("selected"));for(let t=0;t<5;t++)n.appendChild(a[t])}(l.length,a)}"light"===localStorage.getItem("TBN-theme")&&(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark"),a.checked=!0),o("topstories",0,3,s,"short"),o("newstories",i,10,d,"long",!0),document.addEventListener("click",t=>{t.target.closest(".news-navigation__btn")?("Prev"===t.target.textContent&&i>0?i-=1:"Next"===t.target.textContent&&i<50&&(i+=1),o("newstories",i,10,d,"long",!0)):t.target.closest(".news-navigation__item")&&o("newstories",i=Number(t.target.textContent)-1,10,d,"long",!0)}),document.addEventListener("click",t=>{t.target.closest("#js-navmenu__btn, #js-navmenu__items")?t.target.closest("#js-navmenu__btn")&&n.classList.toggle("is-active"):n.classList.remove("is-active")}),a.addEventListener("change",t=>{t.target.checked?(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark"),localStorage.setItem("TBN-theme","light")):(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light"),localStorage.setItem("TBN-theme","dark"))});
//# sourceMappingURL=main.4db5e028.js.map
