{"mappings":"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","sources":["<anon>","src/assets/js/main.js","src/assets/js/card.js","src/assets/js/api.js","src/assets/js/navigation.js"],"sourcesContent":["function $7228557d9085919b$export$75c462ebaf7c7c39() {\n    const card = document.createElement(\"div\");\n    card.classList.add(\"card\", \"card--line-bottom\", \"loading\");\n    return card;\n}\nfunction $7228557d9085919b$export$ae1b95884d20a50f(error, card, type, ...data) {\n    type = type != undefined ? type : \"short\";\n    let number = \"#\" + data[0];\n    let title = data[1] != undefined ? data[1] : \"Sorry, there's a problem with the service, please try later :(\";\n    let author = data[2] != undefined ? data[2] : \":(\";\n    let url = data[3] != undefined ? data[3] : \"#\";\n    let time = new Date(data[4] * 1000).toLocaleDateString(\"en-US\", {\n        weekday: \"short\",\n        year: \"2-digit\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n        hourCycle: \"h24\",\n        hour: \"numeric\",\n        minute: \"numeric\"\n    });\n    //card, title, author, url, time, type, error\n    const cardNumber = document.createElement(\"p\");\n    cardNumber.classList.add(\"card__number\", \"f-heading\", \"f-heading--M\");\n    cardNumber.textContent = number;\n    card.appendChild(cardNumber);\n    const cardTitle = document.createElement(\"a\");\n    cardTitle.classList.add(\"card__title\", \"f-heading\", \"f-heading--M\");\n    cardTitle.textContent = title;\n    cardTitle.href = url;\n    card.appendChild(cardTitle);\n    if (!error) {\n        const cardAuthor = document.createElement(\"p\");\n        cardAuthor.classList.add(\"card__author\", \"f-body\", \"f-body--M\");\n        cardAuthor.textContent = \"by: \";\n        const cardAuthorName = document.createElement(\"span\");\n        cardAuthorName.classList.add(\"card--accent\");\n        cardAuthorName.textContent = author;\n        cardAuthor.appendChild(cardAuthorName);\n        const cardUrl = document.createElement(\"p\");\n        cardUrl.classList.add(\"card__url\", \"f-body\", \"f-body--M\");\n        cardUrl.textContent = \"link: \";\n        const cardUrlLink = document.createElement(\"a\");\n        cardUrlLink.classList.add(\"card--accent\");\n        cardUrlLink.textContent = url;\n        cardUrlLink.href = url;\n        cardUrl.appendChild(cardUrlLink);\n        const cardTime = document.createElement(\"p\");\n        cardTime.classList.add(\"card__time\", \"f-body\", \"f-body--S\");\n        cardTime.textContent = time;\n        card.appendChild(cardAuthor);\n        if (type === \"long\") {\n            card.appendChild(cardUrl);\n            card.appendChild(cardTime);\n        } else {\n            card.classList.remove(\"card--line-bottom\");\n            card.classList.add(\"card--line-top\");\n        }\n    } else {\n        const cardError = document.createElement(\"p\");\n        cardError.classList.add(\"card__author\", \"f-body\", \"f-body--M\");\n        cardError.textContent = \"Please, try again later\";\n        card.appendChild(cardError);\n        card.classList.add(\"js-cardError\");\n    }\n    card.classList.remove(\"loading\");\n}\n\n\nfunction $e0ef342d603fee3f$export$128fa18b7194ef(item, id) {\n    let url = item ? new URL(`v0/item/${id}.json?print=pretty`, \"https://hacker-news.firebaseio.com\") : new URL(`v0/${id}.json?print=pretty`, \"https://hacker-news.firebaseio.com\");\n    return url;\n}\nasync function $e0ef342d603fee3f$export$fe6e2b2c7c409978(url) {\n    const headers = new Headers({\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\"\n    });\n    try {\n        let response = await fetch(url, {\n            mode: \"cors\",\n            method: \"GET\",\n            headers: headers\n        });\n        if (response.ok) {\n            let data = await response.json();\n            return data;\n        } else throw new Error(response.status);\n    } catch (err) {\n        return {\n            title: \"Ups, something went wrong :(\",\n            by: \"--\",\n            url: \"--\",\n            time: \"--\",\n            error: true\n        };\n    }\n}\n\n\nfunction $01b4a0d3a2e59973$export$1b8cc3c32ed61478(cant, index) {\n    const newsNav = document.getElementById(\"js-newsNav\");\n    let navItems = [];\n    let navItemsMax = Math.ceil(cant / 10);\n    while(newsNav.firstChild)newsNav.removeChild(newsNav.firstChild);\n    navItems[0] = document.createElement(\"span\");\n    navItems[0].classList.add(\"news-navigation__item\");\n    navItems[0].textContent = 1;\n    navItems[4] = document.createElement(\"span\");\n    navItems[4].classList.add(\"news-navigation__item\");\n    navItems[4].textContent = navItemsMax;\n    navItems[1] = document.createElement(\"span\");\n    navItems[2] = document.createElement(\"span\");\n    navItems[3] = document.createElement(\"span\");\n    if (index === 0) {\n        navItems[1].classList.add(\"news-navigation__item\");\n        navItems[1].textContent = index + 2;\n        navItems[2].classList.add(\"news-navigation__item\");\n        navItems[2].textContent = index + 3;\n        navItems[3].textContent = \"...\";\n        navItems[0].classList.add(\"selected\");\n    } else if (index === 1) {\n        navItems[1].classList.add(\"news-navigation__item\");\n        navItems[1].textContent = index + 1;\n        navItems[2].classList.add(\"news-navigation__item\");\n        navItems[2].textContent = index + 2;\n        navItems[3].textContent = \"...\";\n        navItems[1].classList.add(\"selected\");\n    } else if (index > 1 && index < navItemsMax - 2) {\n        navItems[1].textContent = \"...\";\n        navItems[2].classList.add(\"news-navigation__item\");\n        navItems[2].textContent = index + 1;\n        navItems[3].textContent = \"...\";\n        navItems[2].classList.add(\"selected\");\n    } else if (index === navItemsMax - 3) {\n        navItems[1].textContent = \"...\";\n        navItems[2].classList.add(\"news-navigation__item\");\n        navItems[2].textContent = index + 1;\n        navItems[3].classList.add(\"news-navigation__item\");\n        navItems[3].textContent = index + 2;\n        navItems[2].classList.add(\"selected\");\n    } else if (index === navItemsMax - 2) {\n        navItems[1].textContent = \"...\";\n        navItems[2].classList.add(\"news-navigation__item\");\n        navItems[2].textContent = index;\n        navItems[3].classList.add(\"news-navigation__item\");\n        navItems[3].textContent = index + 1;\n        navItems[3].classList.add(\"selected\");\n    } else if (index === navItemsMax - 1) {\n        navItems[1].textContent = \"...\";\n        navItems[2].classList.add(\"news-navigation__item\");\n        navItems[2].textContent = index - 1;\n        navItems[3].classList.add(\"news-navigation__item\");\n        navItems[3].textContent = index;\n        navItems[4].classList.add(\"selected\");\n    }\n    for(let i = 0; i < 5; i++)newsNav.appendChild(navItems[i]);\n}\n\n\n\"use strict\";\nconst $7940365cce7a5f46$var$hamburgerMenu = document.getElementById(\"js-navmenu__btn\");\nconst $7940365cce7a5f46$var$themeSwitch = document.getElementById(\"js-themeInput\");\nconst $7940365cce7a5f46$var$topGrid = document.getElementById(\"js-topStories\");\nconst $7940365cce7a5f46$var$newsGrid = document.getElementById(\"js-newsGrid\");\nlet $7940365cce7a5f46$var$index = 0;\nfunction $7940365cce7a5f46$var$themeSelector(theme) {\n    if (theme === \"light\") {\n        document.body.classList.add(\"theme-light\");\n        document.body.classList.remove(\"theme-dark\");\n        $7940365cce7a5f46$var$themeSwitch.checked = true;\n    }\n}\nasync function $7940365cce7a5f46$var$getItems(list, start, cant, parent, type, nav = false) {\n    let cards = [];\n    $7940365cce7a5f46$var$removeAllChildNodes(parent);\n    for(let i = 0; i < cant; i++){\n        cards.push((0, $7228557d9085919b$export$75c462ebaf7c7c39)());\n        parent.appendChild(cards[i]);\n    }\n    let data = await (0, $e0ef342d603fee3f$export$fe6e2b2c7c409978)((0, $e0ef342d603fee3f$export$128fa18b7194ef)(false, list));\n    cards.forEach((card, i)=>{\n        (0, $e0ef342d603fee3f$export$fe6e2b2c7c409978)((0, $e0ef342d603fee3f$export$128fa18b7194ef)(true, data[i + start * 10])).then((item)=>{\n            (0, $7228557d9085919b$export$ae1b95884d20a50f)(item.error, card, type, i + 1 + start * 10, item.title, item.by, item.url, item.time);\n        });\n    });\n    if (nav && !data.error) (0, $01b4a0d3a2e59973$export$1b8cc3c32ed61478)(data.length, start);\n}\nfunction $7940365cce7a5f46$var$removeAllChildNodes(parent) {\n    while(parent.firstChild)parent.removeChild(parent.firstChild);\n}\n//---------------------------------------------------\n$7940365cce7a5f46$var$themeSelector(localStorage.getItem(\"TBN-theme\"));\n$7940365cce7a5f46$var$getItems(\"topstories\", 0, 3, $7940365cce7a5f46$var$topGrid, \"short\");\n$7940365cce7a5f46$var$getItems(\"newstories\", $7940365cce7a5f46$var$index, 10, $7940365cce7a5f46$var$newsGrid, \"long\", true);\ndocument.addEventListener(\"click\", (event)=>{\n    if (event.target.closest(\".news-navigation__btn\")) {\n        if (event.target.textContent === \"Prev\" && $7940365cce7a5f46$var$index > 0) $7940365cce7a5f46$var$index -= 1;\n        else if (event.target.textContent === \"Next\" && $7940365cce7a5f46$var$index < 50) $7940365cce7a5f46$var$index += 1;\n        $7940365cce7a5f46$var$getItems(\"newstories\", $7940365cce7a5f46$var$index, 10, $7940365cce7a5f46$var$newsGrid, \"long\", true);\n    } else if (event.target.closest(\".news-navigation__item\")) {\n        $7940365cce7a5f46$var$index = Number(event.target.textContent) - 1;\n        $7940365cce7a5f46$var$getItems(\"newstories\", $7940365cce7a5f46$var$index, 10, $7940365cce7a5f46$var$newsGrid, \"long\", true);\n    }\n});\ndocument.addEventListener(\"click\", (event)=>{\n    if (!event.target.closest(\"#js-navmenu__btn, #js-navmenu__items\")) $7940365cce7a5f46$var$hamburgerMenu.classList.remove(\"is-active\");\n    else if (event.target.closest(\"#js-navmenu__btn\")) $7940365cce7a5f46$var$hamburgerMenu.classList.toggle(\"is-active\");\n});\n$7940365cce7a5f46$var$themeSwitch.addEventListener(\"change\", (event)=>{\n    if (event.target.checked) {\n        document.body.classList.add(\"theme-light\");\n        document.body.classList.remove(\"theme-dark\");\n        localStorage.setItem(\"TBN-theme\", \"light\");\n    } else {\n        document.body.classList.add(\"theme-dark\");\n        document.body.classList.remove(\"theme-light\");\n        localStorage.setItem(\"TBN-theme\", \"dark\");\n    }\n});\n\n\n//# sourceMappingURL=main.4db5e028.js.map\n","\"use strict\";\nimport {cardCreator, cardUpdater} from \"./card\";\nimport {url, getApiData} from \"./api\";\nimport {setNavigation} from \"./navigation\";\nconst hamburgerMenu = document.getElementById(\"js-navmenu__btn\");\nconst themeSwitch = document.getElementById(\"js-themeInput\");\nconst topGrid = document.getElementById(\"js-topStories\");\nconst newsGrid = document.getElementById(\"js-newsGrid\");\nlet index = 0;\n\nfunction themeSelector(theme) {\n\tif (theme === \"light\") {\n\t\tdocument.body.classList.add(\"theme-light\");\n\t\tdocument.body.classList.remove(\"theme-dark\");\n\t\tthemeSwitch.checked = true;\n\t}\n}\nasync function getItems(list, start, cant, parent, type, nav = false) {\n\tlet cards = [];\n\tremoveAllChildNodes(parent);\n\tfor (let i = 0; i < cant; i++) {\n\t\tcards.push(cardCreator());\n\t\tparent.appendChild(cards[i]);\n\t}\n\tlet data = await getApiData(url(false, list));\n\tcards.forEach((card, i) => {\n\t\tgetApiData(url(true, data[i + start * 10])).then((item) => {\n\t\t\tcardUpdater(\n\t\t\t\titem.error,\n\t\t\t\tcard,\n\t\t\t\ttype,\n\t\t\t\ti + 1 + start * 10,\n\t\t\t\titem.title,\n\t\t\t\titem.by,\n\t\t\t\titem.url,\n\t\t\t\titem.time\n\t\t\t);\n\t\t});\n\t});\n\tif (nav && !data.error) {\n\t\tsetNavigation(data.length, start);\n\t}\n}\nfunction removeAllChildNodes(parent) {\n\twhile (parent.firstChild) {\n\t\tparent.removeChild(parent.firstChild);\n\t}\n}\n//---------------------------------------------------\nthemeSelector(localStorage.getItem(\"TBN-theme\"));\ngetItems(\"topstories\", 0, 3, topGrid, \"short\");\ngetItems(\"newstories\", index, 10, newsGrid, \"long\", true);\n\ndocument.addEventListener(\"click\", (event) => {\n\tif (event.target.closest(\".news-navigation__btn\")) {\n\t\tif (event.target.textContent === \"Prev\" && index > 0) {\n\t\t\tindex -= 1;\n\t\t} else if (event.target.textContent === \"Next\" && index < 50) {\n\t\t\tindex += 1;\n\t\t}\n\t\tgetItems(\"newstories\", index, 10, newsGrid, \"long\", true);\n\t} else if (event.target.closest(\".news-navigation__item\")) {\n\t\tindex = Number(event.target.textContent) - 1;\n\t\tgetItems(\"newstories\", index, 10, newsGrid, \"long\", true);\n\t}\n});\ndocument.addEventListener(\"click\", (event) => {\n\tif (!event.target.closest(\"#js-navmenu__btn, #js-navmenu__items\")) {\n\t\thamburgerMenu.classList.remove(\"is-active\");\n\t} else if (event.target.closest(\"#js-navmenu__btn\")) {\n\t\thamburgerMenu.classList.toggle(\"is-active\");\n\t}\n});\nthemeSwitch.addEventListener(\"change\", (event) => {\n\tif (event.target.checked) {\n\t\tdocument.body.classList.add(\"theme-light\");\n\t\tdocument.body.classList.remove(\"theme-dark\");\n\t\tlocalStorage.setItem(\"TBN-theme\", \"light\");\n\t} else {\n\t\tdocument.body.classList.add(\"theme-dark\");\n\t\tdocument.body.classList.remove(\"theme-light\");\n\t\tlocalStorage.setItem(\"TBN-theme\", \"dark\");\n\t}\n});\n","export function cardCreator() {\n\tconst card = document.createElement(\"div\");\n\tcard.classList.add(\"card\", \"card--line-bottom\", \"loading\");\n\treturn card;\n}\nexport function cardUpdater(error, card, type, ...data) {\n\ttype = type != undefined ? type : \"short\";\n\tlet number = \"#\" + data[0];\n\tlet title =\n\t\tdata[1] != undefined\n\t\t\t? data[1]\n\t\t\t: \"Sorry, there's a problem with the service, please try later :(\";\n\tlet author = data[2] != undefined ? data[2] : \":(\";\n\tlet url = data[3] != undefined ? data[3] : \"#\";\n\tlet time = new Date(data[4] * 1000).toLocaleDateString(\"en-US\", {\n\t\tweekday: \"short\",\n\t\tyear: \"2-digit\",\n\t\tmonth: \"2-digit\",\n\t\tday: \"2-digit\",\n\t\thourCycle: \"h24\",\n\t\thour: \"numeric\",\n\t\tminute: \"numeric\",\n\t});\n\n\t//card, title, author, url, time, type, error\n\tconst cardNumber = document.createElement(\"p\");\n\tcardNumber.classList.add(\"card__number\", \"f-heading\", \"f-heading--M\");\n\tcardNumber.textContent = number;\n\tcard.appendChild(cardNumber);\n\tconst cardTitle = document.createElement(\"a\");\n\tcardTitle.classList.add(\"card__title\", \"f-heading\", \"f-heading--M\");\n\tcardTitle.textContent = title;\n\tcardTitle.href = url;\n\tcard.appendChild(cardTitle);\n\n\tif (!error) {\n\t\tconst cardAuthor = document.createElement(\"p\");\n\t\tcardAuthor.classList.add(\"card__author\", \"f-body\", \"f-body--M\");\n\t\tcardAuthor.textContent = \"by: \";\n\t\tconst cardAuthorName = document.createElement(\"span\");\n\t\tcardAuthorName.classList.add(\"card--accent\");\n\t\tcardAuthorName.textContent = author;\n\t\tcardAuthor.appendChild(cardAuthorName);\n\n\t\tconst cardUrl = document.createElement(\"p\");\n\t\tcardUrl.classList.add(\"card__url\", \"f-body\", \"f-body--M\");\n\t\tcardUrl.textContent = \"link: \";\n\t\tconst cardUrlLink = document.createElement(\"a\");\n\t\tcardUrlLink.classList.add(\"card--accent\");\n\t\tcardUrlLink.textContent = url;\n\t\tcardUrlLink.href = url;\n\t\tcardUrl.appendChild(cardUrlLink);\n\n\t\tconst cardTime = document.createElement(\"p\");\n\t\tcardTime.classList.add(\"card__time\", \"f-body\", \"f-body--S\");\n\t\tcardTime.textContent = time;\n\t\tcard.appendChild(cardAuthor);\n\t\tif (type === \"long\") {\n\t\t\tcard.appendChild(cardUrl);\n\t\t\tcard.appendChild(cardTime);\n\t\t} else {\n\t\t\tcard.classList.remove(\"card--line-bottom\");\n\t\t\tcard.classList.add(\"card--line-top\");\n\t\t}\n\t} else {\n\t\tconst cardError = document.createElement(\"p\");\n\t\tcardError.classList.add(\"card__author\", \"f-body\", \"f-body--M\");\n\t\tcardError.textContent = \"Please, try again later\";\n\t\tcard.appendChild(cardError);\n\t\tcard.classList.add(\"js-cardError\");\n\t}\n\tcard.classList.remove(\"loading\");\n}\n","export function url(item, id) {\n\tlet url = item\n\t\t? new URL(\n\t\t\t\t`v0/item/${id}.json?print=pretty`,\n\t\t\t\t\"https://hacker-news.firebaseio.com\"\n\t\t  )\n\t\t: new URL(\n\t\t\t\t`v0/${id}.json?print=pretty`,\n\t\t\t\t\"https://hacker-news.firebaseio.com\"\n\t\t  );\n\treturn url;\n}\nexport async function getApiData(url) {\n\tconst headers = new Headers({\n\t\t\"Content-Type\": \"application/json\",\n\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t});\n\ttry {\n\t\tlet response = await fetch(url, {\n\t\t\tmode: \"cors\",\n\t\t\tmethod: \"GET\",\n\t\t\theaders: headers,\n\t\t});\n\t\tif (response.ok) {\n\t\t\tlet data = await response.json();\n\t\t\treturn data;\n\t\t} else {\n\t\t\tthrow new Error(response.status);\n\t\t}\n\t} catch (err) {\n\t\treturn {\n\t\t\ttitle: \"Ups, something went wrong :(\",\n\t\t\tby: \"--\",\n\t\t\turl: \"--\",\n\t\t\ttime: \"--\",\n\t\t\terror: true,\n\t\t};\n\t}\n}\n","export function setNavigation(cant, index) {\n\tconst newsNav = document.getElementById(\"js-newsNav\");\n\tlet navItems = [];\n\tlet navItemsMax = Math.ceil(cant / 10);\n\twhile (newsNav.firstChild) {\n\t\tnewsNav.removeChild(newsNav.firstChild);\n\t}\n\n\tnavItems[0] = document.createElement(\"span\");\n\tnavItems[0].classList.add(\"news-navigation__item\");\n\tnavItems[0].textContent = 1;\n\tnavItems[4] = document.createElement(\"span\");\n\tnavItems[4].classList.add(\"news-navigation__item\");\n\tnavItems[4].textContent = navItemsMax;\n\tnavItems[1] = document.createElement(\"span\");\n\tnavItems[2] = document.createElement(\"span\");\n\tnavItems[3] = document.createElement(\"span\");\n\n\tif (index === 0) {\n\t\tnavItems[1].classList.add(\"news-navigation__item\");\n\t\tnavItems[1].textContent = index + 2;\n\t\tnavItems[2].classList.add(\"news-navigation__item\");\n\t\tnavItems[2].textContent = index + 3;\n\t\tnavItems[3].textContent = \"...\";\n\t\tnavItems[0].classList.add(\"selected\");\n\t} else if (index === 1) {\n\t\tnavItems[1].classList.add(\"news-navigation__item\");\n\t\tnavItems[1].textContent = index + 1;\n\t\tnavItems[2].classList.add(\"news-navigation__item\");\n\t\tnavItems[2].textContent = index + 2;\n\t\tnavItems[3].textContent = \"...\";\n\t\tnavItems[1].classList.add(\"selected\");\n\t} else if (index > 1 && index < navItemsMax - 2) {\n\t\tnavItems[1].textContent = \"...\";\n\t\tnavItems[2].classList.add(\"news-navigation__item\");\n\t\tnavItems[2].textContent = index + 1;\n\t\tnavItems[3].textContent = \"...\";\n\t\tnavItems[2].classList.add(\"selected\");\n\t} else if (index === navItemsMax - 3) {\n\t\tnavItems[1].textContent = \"...\";\n\t\tnavItems[2].classList.add(\"news-navigation__item\");\n\t\tnavItems[2].textContent = index + 1;\n\t\tnavItems[3].classList.add(\"news-navigation__item\");\n\t\tnavItems[3].textContent = index + 2;\n\t\tnavItems[2].classList.add(\"selected\");\n\t} else if (index === navItemsMax - 2) {\n\t\tnavItems[1].textContent = \"...\";\n\t\tnavItems[2].classList.add(\"news-navigation__item\");\n\t\tnavItems[2].textContent = index;\n\t\tnavItems[3].classList.add(\"news-navigation__item\");\n\t\tnavItems[3].textContent = index + 1;\n\t\tnavItems[3].classList.add(\"selected\");\n\t} else if (index === navItemsMax - 1) {\n\t\tnavItems[1].textContent = \"...\";\n\t\tnavItems[2].classList.add(\"news-navigation__item\");\n\t\tnavItems[2].textContent = index - 1;\n\t\tnavItems[3].classList.add(\"news-navigation__item\");\n\t\tnavItems[3].textContent = index;\n\t\tnavItems[4].classList.add(\"selected\");\n\t}\n\n\tfor (let i = 0; i < 5; i++) {\n\t\tnewsNav.appendChild(navItems[i]);\n\t}\n}\n"],"names":["$e0ef342d603fee3f$export$128fa18b7194ef","item","id","URL","$e0ef342d603fee3f$export$fe6e2b2c7c409978","url","headers","Headers","response","fetch","mode","method","ok","json","Error","status","err","title","by","time","error","$7940365cce7a5f46$var$hamburgerMenu","document","getElementById","$7940365cce7a5f46$var$themeSwitch","$7940365cce7a5f46$var$topGrid","$7940365cce7a5f46$var$newsGrid","$7940365cce7a5f46$var$index","$7940365cce7a5f46$var$getItems","list","start","cant","parent","type","nav","cards","$7940365cce7a5f46$var$removeAllChildNodes","firstChild","removeChild","i","push","card","createElement","classList","add","appendChild","data","forEach","then","undefined","number","author","Date","toLocaleDateString","weekday","year","month","day","hourCycle","hour","minute","cardNumber","textContent","cardTitle","href","cardError","cardAuthor","cardAuthorName","cardUrl","cardUrlLink","cardTime","remove","index","newsNav","navItems","navItemsMax","Math","ceil","length","localStorage","getItem","body","checked","addEventListener","event","target","closest","Number","toggle","setItem"],"version":3,"file":"main.4db5e028.js.map"}